<view class="container">
  <view class="page-title">上传文件</view>
  
  <view class="upload-area" bindtap="chooseFile">
    <view class="upload-icon">📤</view>
    <view class="upload-text">点击选择文件</view>
    <view class="upload-tip">支持 Excel (.xlsx, .xls) 和 CSV 文件</view>
  </view>
  
  <view class="file-info" wx:if="{{selectedFile}}">
    <view class="file-name">{{selectedFile.name}}</view>
    <view class="file-size">{{formatFileSize(selectedFile.size)}}</view>
    <button class="delete-btn" bindtap="deleteFile">删除</button>
  </view>
  
  <view class="layer-type-section">
    <view class="section-title">选择图层类型</view>
    <view class="type-list">
      <view 
        class="type-item {{layerType === 'sector' ? 'active' : ''}}" 
        bindtap="selectLayerType" 
        data-type="sector"
      >
        <view class="type-icon">📊</view>
        <view class="type-text">基站扇区图层</view>
      </view>
      <view 
        class="type-item {{layerType === 'rsrp' ? 'active' : ''}}" 
        bindtap="selectLayerType" 
        data-type="rsrp"
      >
        <view class="type-icon">📡</view>
        <view class="type-text">RSRP点图层</view>
      </view>
      <view 
        class="type-item {{layerType === 'facility' ? 'active' : ''}}" 
        bindtap="selectLayerType" 
        data-type="facility"
      >
        <view class="type-icon">🏗️</view>
        <view class="type-text">光交/机房图层</view>
      </view>
    </view>
  </view>
  
  <button 
    class="btn btn-primary upload-btn" 
    bindtap="uploadFile" 
    disabled="{{!selectedFile || !layerType || uploading}}"
    loading="{{uploading}}"
  >
    {{uploading ? '上传中...' : '上传并生成'}}
  </button>
  
  <view class="tips-section">
    <view class="tips-title">注意事项</view>
    <view class="tips-list">
      <view class="tips-item">• 文件大小不超过5MB</view>
      <view class="tips-item">• 请确保文件包含必要的字段</view>
      <view class="tips-item">• 生成过程可能需要几秒钟时间</view>
    </view>
  </view>
</view>
